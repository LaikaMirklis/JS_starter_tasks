<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task 3</title>
  </head>

  <body>
    <pre>
        Завдання: 
        Виконайте рефакторинг коду. Винесіть блок коду ініціалізуючий массив count та блок коду, що розраховує та виводить, суму покупок  в дві окремі функції.
        Поведінка сценарія не повинна змінитись. 
    </pre>
    <script>
      // назва товару
      let productNames = [
        "Папір офісний А4, 80 г/м2, 500 л",
        "Біндер для паперу 51 мм",
        "Ручка кулькова синя",
      ];

      // ціна на товару
      let productPrices = [280.25, 56, 12.5];

      function arrayGeneration() {
        let count = [];
        for (let i = 0; i < productNames.length; i++) {
          let countToBuy = +prompt(`Вкажіть кількість для  + ${productNames[i]}`);

          if (isNaN(countToBuy)) countToBuy = 0;

          count.push(countToBuy);
        }
        return count;
      }

      function calcOfTotal() {
        let count = arrayGeneration();
        let totalSum = 0;
        for (let i = 0; i < productNames.length; i++) {
          const productName = productNames[i];
          const productPrice = productPrices[i];
          const boughtCount = count[i];

          let price = productPrice * boughtCount;
          totalSum += price;
          console.log(`Придбано ${productName} на суму ${price.toFixed(2)}`);
        }
        console.log("Всього продуктів придбано на " + totalSum.toFixed(2));
      }

      calcOfTotal();
    </script>
  </body>
</html>
